[{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement kyle.messier@nih.gov. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to GeoTox","title":"Contributing to GeoTox","text":"outlines (1) propose change GeoTox (2) serves log potential enhancements GeoTox.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"best-practices","dir":"","previous_headings":"","what":"Best Practices","title":"Contributing to GeoTox","text":"’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See tidyverse team’s guide create great issue advice. adding new function package, always add working examples new function roxygen2 documentation #' @examples.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Best Practices","what":"Pull request process","title":"Contributing to GeoTox","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"NIEHS/GeoTox\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing. Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header).","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Best Practices","what":"Code style","title":"Contributing to GeoTox","text":"Please abide 80-character line rules (default settings lintr) use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to GeoTox","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"geotox-open-issues-and-enhancements","dir":"","previous_headings":"","what":"GeoTox Open Issues and Enhancements","title":"Contributing to GeoTox","text":"section serves log potential enhancements GeoTox. Community members welcomed encouraged use contributing guide address open issues enhancements package. Additionally, new enhancements can proposed using enhancements template request. want address open enchancement suggest new one, ’s good idea first file issue make sure someone team agrees ’s needed.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"scientific","dir":"","previous_headings":"GeoTox Open Issues and Enhancements","what":"Scientific","title":"Contributing to GeoTox","text":"Non-steady state toxicokinetics. likely require additional usage httk package. Complete integration multiple end-point analysis GeoTox objects Integration Reflected Generalized Concentration Addition (RGCA), allow 3+ parameter hill models used additive mixture predictions. Benchmark Dose modeling (BMD) metric risk assessment. Suggested ingetrations include BMDexpress2.0 transcryptR - note transcryptR also currently ","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"computational","dir":"","previous_headings":"GeoTox Open Issues and Enhancements","what":"Computational","title":"Contributing to GeoTox","text":"targets pipeline template. provide make-like targets pipeline, new users reproducible template run analysis ease.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to GeoTox","text":"Please note chopin project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2023 GeoToxPackage authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/introduction.html","id":"fit-hill-model","dir":"Articles","previous_headings":"","what":"Fit Hill model","title":"GeoTox Introduction","text":"Split dose response data list chemical casn apply fit_hill function chemicals. Note estimates tp.sd logAC50.sd NA replaced corresponding tp logAC50 values. imputation indicated setting tp.sd.imputed logAC50.sd.imputed TRUE.","code":"data <- split(geo_tox_data$dose_response, ~casn) hill_2_params <- fit_hill(data) hill_3_params <- fit_hill(data, fixed_slope = FALSE)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/introduction.html","id":"plot-fits","dir":"Articles","previous_headings":"Fit Hill model","what":"Plot fits","title":"GeoTox Introduction","text":"","code":"plot_hill <- function(fit_params) {    log10_x <- seq(-1, 4, length.out = 100)    y <- apply(fit_params, 1, function(par) {     tp      <- as.numeric(par[\"tp\"])     logAC50 <- as.numeric(par[\"logAC50\"])     slope   <- as.numeric(par[\"slope\"])     tp / (1 + 10^(slope * (logAC50 - log10_x)))   })   colnames(y) <- fit_params$name    as_tibble(y) %>%     mutate(conc = 10^log10_x, .before = 1) %>%     pivot_longer(!conc, values_to = \"resp\") %>%     ggplot(aes(conc, resp, color = name)) +     geom_line() +     scale_x_log10(labels = scales::label_math(10^.x, format = log10)) } plot_hill(hill_2_params) plot_hill(hill_3_params)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/introduction.html","id":"simulate-data","dir":"Articles","previous_headings":"","what":"Simulate Data","title":"GeoTox Introduction","text":"","code":"# Age age <- simulate_age(split(geo_tox_data$age, ~FIPS), n = MC_iter)  # Obesity status obesity <- simulate_obesity(geo_tox_data$obesity, n = MC_iter)  # Inhalation rate IR <- simulate_inhalation_rate(age)  # External exposure concentration C_ext <- simulate_exposure(split(geo_tox_data$exposure, ~FIPS), n = MC_iter)  # Sample from pre-simulated steady-state plasma concentration data C_ss <- sample_Css(geo_tox_data$simulated_css, age, obesity)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/introduction.html","id":"calculations","dir":"Articles","previous_headings":"","what":"Calculations","title":"GeoTox Introduction","text":"","code":"# Internal dose D_int <- calc_internal_dose(C_ext, IR, scaling = 1 / 1000)  # in vitro concentration C_invitro <- calc_invitro_concentration(D_int, C_ss)  # Concentration response resp <- calc_concentration_response(C_invitro, hill_2_params)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/introduction.html","id":"plots","dir":"Articles","previous_headings":"","what":"Plots","title":"GeoTox Introduction","text":"","code":"resp_df <- tibble(   FIPS = names(resp),   data = resp ) %>%   unnest(cols = data) %>%   pivot_longer(-FIPS, names_to = \"health_measure\") %>%   mutate(     health_measure = factor(       health_measure,       levels = c(\"GCA.Eff\", \"IA.eff\", \"GCA.HQ.10\", \"IA.HQ.10\")     )   ) %>%   # Compute summary stats   summarize(     median = median(value , na.rm = TRUE),     quantile_05 = quantile(value, 0.05, na.rm = TRUE, names = FALSE),     quantile_95 = quantile(value, 0.95, na.rm = TRUE, names = FALSE),     .by = c(FIPS, health_measure)   ) %>%   pivot_longer(     cols = c(median, quantile_05, quantile_95),     names_to = \"stat\"   ) %>%   # Order stats   mutate(     stat = factor(stat, levels = c(\"quantile_05\", \"median\", \"quantile_95\"))   ) %>%   # Add county boundaries   left_join(geo_tox_data$boundaries$county, by = join_by(FIPS)) %>%   st_as_sf()  make_county_heatmap <- function(df, legend_name) {   ggplot(df, aes(fill = value)) +     # Plot county data using fill, hide county borders by setting color = NA     geom_sf(color = NA) +     # Add state borders     geom_sf(data = geo_tox_data$boundaries$state, fill = NA, size = 0.15) +     # Create separate plots for each stat     facet_wrap(       ~stat,       ncol = 3,       labeller = labeller(         stat = c(           \"quantile_05\" = \"5th Percentile\",           \"median\" = \"Median\",           \"quantile_95\" = \"95th Percentile\"         )       )     ) +     # Add fill scale     scale_fill_viridis_c(       name = legend_name,       direction = -1,       option = \"A\",       trans = \"sqrt\"     ) +     # Theme     theme_bw() +     theme(       text = element_text(size = 12),       legend.text = element_text(size = 8),       axis.ticks = element_blank(),       axis.text = element_blank(),       panel.grid.major = element_blank(),       panel.grid.minor = element_blank()     ) }  GCA_Eff_plot <- make_county_heatmap(   resp_df %>% filter(health_measure == \"GCA.Eff\"),   paste(\"Predicted Response\", \"Log2 Fold Change\", \"mRNA Expression\",sep = \"\\n\") )  HQ_10_plot <- make_county_heatmap(   resp_df %>% filter(health_measure == \"IA.HQ.10\"),   \"Risk Quotient\" )  ggarrange(   GCA_Eff_plot , HQ_10_plot,   labels = c( \"A\", \"B\"),   vjust = 1,   align = \"v\",   nrow = 2,   font.label = list(size = 20, color = \"black\", face = \"bold\"),   common.legend = FALSE ) exposure_df <- geo_tox_data$exposure %>%   left_join(hill_2_params, by = join_by(casn == name)) %>%   left_join(geo_tox_data$boundaries$county, by = join_by(FIPS)) %>%   st_as_sf()  ggplot(exposure_df, aes(fill = norm)) +   geom_sf(color = NA) +   facet_wrap(~chemical, ncol = 2) +   # Recolor subset as light grey   geom_sf(     data = exposure_df %>% filter(mean == 0),     fill = \"light grey\",     color = \"light grey\",     lwd = 0.01   ) +   # State borders   geom_sf(data = geo_tox_data$boundaries$state, fill = NA, size = 0.15) +   scale_fill_viridis_c(     name = \"Normalized\\nConcentration\",     direction = -1,     option = \"A\"   ) +   theme_bw() +   theme(     axis.ticks = element_blank(),     axis.text = element_blank(),     strip.text = element_text(size = 6),     text = element_text(size = 12),     panel.grid.major = element_blank(),     panel.grid.minor = element_blank()   )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/oo-s3.html","id":"create-object-run-simulations-and-computations","dir":"Articles","previous_headings":"","what":"Create object, run simulations and computations","title":"GeoTox S3 object","text":"","code":"x <- GeoTox() |>    # Set region and group boundaries (for plotting)   set_boundaries(     region = geo_tox_data$boundaries$county,     group  = geo_tox_data$boundaries$state   ) |>    # Simulate populations for each region   simulate_population(     age           = split(geo_tox_data$age, ~FIPS)[idx],     obesity       = geo_tox_data$obesity[idx, ],     exposure      = split(geo_tox_data$exposure, ~FIPS)[idx],     simulated_css = geo_tox_data$simulated_css,     n             = n   ) |>    # Calculate response using estimated Hill parameters   calculate_response(     hill_params = fit_hill(split(geo_tox_data$dose_response, ~casn))   ) |>    # Perform sensitivity analysis   sensitivity_analysis()  x #> GeoTox object #> Regions: 100 #> Population: 50 #> Fields: #>        Name             Class             Dim #>         age     list(integer)      100 x (50) #>          IR     list(numeric)      100 x (50) #>     obesity   list(character)      100 x (50) #>       C_ext      list(matrix)  100 x (50 x 8) #>        C_ss      list(matrix)  100 x (50 x 8) #>       D_int      list(matrix)  100 x (50 x 8) #>   C_invitro      list(matrix)  100 x (50 x 8) #>        resp  list(data.frame)  100 x (50 x 4)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/oo-s3.html","id":"plot-outputs","dir":"Articles","previous_headings":"","what":"Plot outputs","title":"GeoTox S3 object","text":"","code":"plot(x) plot(x, type = \"hill\") plot(x, type = \"exposure\") plot(x, type = \"sensitivity\") #> Picking joint bandwidth of 0.105"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/oo-s3.html","id":"some-plot-options","dir":"Articles","previous_headings":"","what":"Some plot options","title":"GeoTox S3 object","text":"","code":"quantiles <- c(0.05, 0.5, 0.95) quantile_labels <- c(\"5th Percentile\", \"Median\", \"95th Percentile\") fig1 <- plot(x,              metric = \"GCA.Eff\",              quantiles = quantiles,              quantile_labels = quantile_labels) fig2 <- plot(x,              metric = \"IA.HQ.10\",              quantiles = quantiles,              quantile_labels = quantile_labels) ggpubr::ggarrange(fig1 , fig2, align = \"v\", ncol = 1) plot(x, type = \"exposure\", ncol = 4) plot(x, type = \"sensitivity\", param = \"IA.HQ.10\") #> Picking joint bandwidth of 0.105"},{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"exposure-data","dir":"Articles","previous_headings":"Chemical data","what":"Exposure data","title":"GeoTox Package Data","text":"Download modeled exposure data AirToxScreen. Results AirToxScreen 2019 subset chemicals North Carolina counties included package data geo_tox_data$exposure.","code":"# TODO Where can I get CASN for the exposure data? # Is it from a table in the zipped .accdb file? # If so, that's not widely accessible.  exposure <- read_xlsx(\"2019_Toxics_Exposure_Concentrations.xlsx\")  # Normalization function min_max_norm = function(x) {   min_x <- min(x, na.rm = TRUE)   max_x <- max(x, na.rm = TRUE)   if (min_x == max_x) {     rep(0, length(x))   } else {     (x - min_x) / (max_x - min_x)   } }  geo_tox_data$exposure <- exposure %>%   # North Carolina counties   filter(State == \"NC\", !grepl(\"0$\", FIPS)) %>%   # Aggregate chemicals by county   summarize(across(-c(State:Tract), c(mean, sd)), .by = FIPS) %>%   pivot_longer(-FIPS, names_to = \"chemical\") %>%   mutate(     stat = if_else(grepl(\"_1$\", chemical), \"mean\", \"sd\"),     chemical = gsub('.{2}$', '', chemical)   ) %>%   pivot_wider(names_from = stat) %>%   # Normalize concentrations   mutate(norm = min_max_norm(mean), .by = chemical)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"dose-response-data","dir":"Articles","previous_headings":"Chemical data","what":"Dose-response data","title":"GeoTox Package Data","text":"TODO description finalized. subset data “LTEA_HepaRG_CYP1A1_up” assay included package data geo_tox_data$dose_response.","code":"# TODO From personal correspondence, how to get as typical user?  load(\"ICE_Invitro_DB/aeid_851_1000_ICE_cHTS_chems_for_Kyle_231120.RData\")  geo_tox_data$dose_response <- cdat2_h %>%   # Keep \"LTEA_HepaRG_CYP1A1_up\" assay   filter(aenm == \"LTEA_HepaRG_CYP1A1_up\") %>%   # Keep selected columns   select(chnm, casn, logc, resp)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"subset-exposure-and-dose-response-data","dir":"Articles","previous_headings":"Chemical data","what":"Subset exposure and dose-response data","title":"GeoTox Package Data","text":"Use ICE cHTS data filter desired chemicals. Retain chemicals found exposure dose-response datasets.","code":"# Use cHTS data to find active chemicals  cHTS <- read_tsv(\"cHTS2022_invitrodb34_20220302.txt\")  casn_hits <- cHTS %>%   filter(     Assay == \"LTEA_HepaRG_CYP1A1_up\",     Endpoint == \"Call\",     Response == \"Active\"   ) %>%   distinct(CASRN) %>% pull()  # Add CASN to exposure, only keep those found in dose-response as well # TODO Currently comparing names between exposure and dose-response data. # Replace with CASN if found for exposure data geo_tox_data$exposure <- geo_tox_data$exposure %>%   left_join(     geo_tox_data$dose_response %>%       distinct(chnm, casn) %>%       mutate(chnm = toupper(chnm)),     by = join_by(chemical == chnm)   ) %>%   # Remove chemicals not found in dose-response   na.omit() %>%   # Keep cHTS active chemicals   filter(casn %in% casn_hits)  # Update dose-response to keep only those remaining in exposure geo_tox_data$dose_response <- geo_tox_data$dose_response %>%   filter(casn %in% geo_tox_data$exposure$casn)"},{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"age","dir":"Articles","previous_headings":"Population data","what":"Age","title":"GeoTox Package Data","text":"Download age data U.S. Census Bureau searching “County Population Characteristics”. subset data North Carolina 2019 included package data geo_tox_data$age.","code":"# Data for North Carolina age <- read_csv(\"cc-est2019-alldata-37.csv\")  geo_tox_data$age <- age %>%   # 7/1/2019 population estimate   filter(YEAR == 12) %>%   # Create FIPS   mutate(FIPS = str_c(STATE, COUNTY)) %>%   # Keep selected columns   select(FIPS, AGEGRP, TOT_POP)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"obesity","dir":"Articles","previous_headings":"Population data","what":"Obesity","title":"GeoTox Package Data","text":"Follow “Data Portal” link CDC PLACES search “places county data”. Go desired dataset webpage, example 2020 county data, download data selecting Actions → API → Download file. subset data North Carolina included package data geo_tox_data$obesity.","code":"places <- read_csv(\"PLACES__County_Data__GIS_Friendly_Format___2020_release.csv\")  # Convert confidence interval to standard deviation extract_SD <- function(x) {   range <- as.numeric(str_split_1(str_sub(x, 2, -2), \",\"))   diff(range) / 3.92 }  geo_tox_data$obesity <- places %>%   # North Carolina Counties   filter(StateAbbr == \"NC\") %>%   # Select obesity data   select(FIPS = CountyFIPS, OBESITY_CrudePrev, OBESITY_Crude95CI) %>%   # Change confidence interval to standard deviation   rowwise() %>%   mutate(OBESITY_SD = extract_SD(OBESITY_Crude95CI)) %>%   ungroup() %>%   select(-OBESITY_Crude95CI)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"steady-state-plasma-concentration-css","dir":"Articles","previous_headings":"Population data","what":"Steady-state plasma concentration (Css)","title":"GeoTox Package Data","text":"Use httk generate Css values combinations age group weight status chemical. generation values time-intensive step, one approach generate populations Css values initially sample later. number samples example dataset small increased using method.","code":"load_sipes2017()  set.seed(2345) n_samples <- 50  # Define population demographics for httk simulation # TODO where do these age groups come from? # They don't match those from the age data source or the table in simulate_inhalation_rate(). # Are they age groups specific to httk? pop_demo <- cross_join(   tibble(     age_group = list(       c(0, 2), c(3, 5), c(6, 10), c(11, 15), c(16, 20), c(21, 30),       c(31, 40), c(41, 50), c(51, 60), c(61, 70), c(71, 100)     )   ),   tibble(     weight = c(\"Normal\", \"Obese\")   ) ) %>%   # Create column of lower age_group values   rowwise() %>%   mutate(age_min = age_group[1]) %>%   ungroup()  # Create wrapper function around httk steps simulate_css <- function(     chem.cas, agelim_years, weight_category, samples, verbose = TRUE ) {    if (verbose) {     cat(       chem.cas,       paste0(\"(\", paste(agelim_years, collapse = \", \"), \")\"),       weight_category,       \"\\n\"     )   }    httkpop <- list(     method = \"vi\",     gendernum = NULL,     agelim_years = agelim_years,     agelim_months = NULL,     weight_category = weight_category,     reths = c(       \"Mexican American\",       \"Other Hispanic\",       \"Non-Hispanic White\",       \"Non-Hispanic Black\",       \"Other\"     )   )    css <- try(     suppressWarnings({       mcs <- create_mc_samples(         chem.cas = chem.cas,         samples = samples,         httkpop.generate.arg.list = httkpop,         suppress.messages = TRUE       )        calc_analytic_css(         chem.cas = chem.cas,         parameters = mcs,         model = \"3compartmentss\",         suppress.messages = TRUE       )     }),     silent = TRUE   )    # Return   if (is(css, \"try-error\")) {     warning(paste0(\"simulate_css failed to generate data for CASN \", chem.cas))     list(NA)   } else {     list(css)   } }  # Get CASN casn <- unique(geo_tox_data$dose_response$casn)  # Simulate Css values simulated_css <- lapply(casn, function(chem.cas) {   pop_demo %>%     rowwise() %>%     mutate(       css = simulate_css(.env$chem.cas, age_group, weight, .env$n_samples)     ) %>%     ungroup() }) simulated_css <- setNames(simulated_css, casn)  # Get median Css values for each age_group simulated_css <- lapply(   simulated_css,   function(cas_df) {     cas_df %>%       nest(.by = age_group) %>%       mutate(         age_median_css = sapply(data, function(df) median(unlist(df$css)))       ) %>%       unnest(data)   } )  # Get median Css values for each weight simulated_css <- lapply(   simulated_css,   function(cas_df) {     cas_df %>%       nest(.by = weight) %>%       mutate(         weight_median_css = sapply(data, function(df) median(unlist(df$css)))       ) %>%       unnest(data) %>%       arrange(age_min, weight)   } )  geo_tox_data$simulated_css <- simulated_css"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"subset-exposure-dose-response-and-css-data","dir":"Articles","previous_headings":"Population data","what":"Subset exposure, dose-response and Css data","title":"GeoTox Package Data","text":"Retain chemicals found exposure, dose-response Css datasets.","code":"idx <- sapply(   lapply(geo_tox_data$simulated_css, \"[[\", \"age_median_css\"),   function(x) any(is.na(x)) )  if (any(idx)) {    idx <- which(!idx)   casn <- names(geo_tox_data$simulated_css)[idx]    geo_tox_data$exposure <- geo_tox_data$exposure %>%     filter(casn %in% .env$casn)    geo_tox_data$dose_response <- geo_tox_data$dose_response %>%     filter(casn %in% .env$casn)    geo_tox_data$simulated_css <- geo_tox_data$simulated_css[idx]  }"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/articles/package_data.html","id":"countystate-boundaries","dir":"Articles","previous_headings":"","what":"County/State boundaries","title":"GeoTox Package Data","text":"Download cartographic boundary files counties states U.S. Census Bureau. geometry data North Carolina counties state included package data geo_tox_data$boundaries.","code":"county <- st_read(\"cb_2019_us_county_5m.shp\") state <- st_read(\"cb_2019_us_state_5m.shp\")  geo_tox_data$boundaries <- list(   county = county %>%     filter(STATEFP == 37) %>%     select(FIPS = GEOID, geometry),   state = state %>%     filter(STATEFP == 37) %>%     select(geometry) )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Skylar Marvel. Author, contributor. David Reif. Author, contributor. Kyle Messier. Maintainer, author, contributor.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Marvel S, Reif D, Messier K (2024). GeoTox: GeoTox: Open-source software connecting spatiotemporal exposure individual population-level risk. R package version 0.0.0.9000, https://spatiotemporal-exposures--toxicology.github.io/GeoTox/.","code":"@Manual{,   title = {GeoTox: GeoTox: Open-source software for connecting spatiotemporal exposure to individual and population-level risk},   author = {Skylar Marvel and David Reif and Kyle Messier},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/}, }"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/index.html","id":"geotox","dir":"","previous_headings":"","what":"GeoTox: Open-source software for connecting spatiotemporal exposure to individual and population-level risk","title":"GeoTox: Open-source software for connecting spatiotemporal exposure to individual and population-level risk","text":"Eccles KM, Karmaus AL, Kleinstreuer NC, Parham F, Rider CV, Wambaugh JF, Messier KP. geospatial modeling approach quantifying risk exposure environmental chemical mixtures via common molecular target. Sci Total Environ. 2023 Jan 10;855:158905. doi: 10.1016/j.scitotenv.2022.158905. Epub 2022 Sep 21. PMID: 36152849; PMCID: PMC9979101.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"GeoTox: Open-source software for connecting spatiotemporal exposure to individual and population-level risk","text":"can install development version GeoTox GitHub :","code":"# install.packages(\"devtools\")  # alternatively # install.packages(\"pak\") pak::pkg_install(\"NIEHS/GeoTox\")"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/GeoTox.html","id":null,"dir":"Reference","previous_headings":"","what":"GeoTox S3 object — GeoTox","title":"GeoTox S3 object — GeoTox","text":"S3 object can used help organize data results GeoTox analysis.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/GeoTox.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"GeoTox S3 object — GeoTox","text":"","code":"GeoTox()  # S3 method for GeoTox plot(x, type = c(\"resp\", \"hill\", \"exposure\", \"sensitivity\"), ...)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/GeoTox.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"GeoTox S3 object — GeoTox","text":"x GeoTox object type type plot ... additional arguments passed plotting functions","code":""},{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_concentration_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate the mixture response from one of three different approaches: IA, GCA ,or Hazard Quotient — calc_concentration_response","title":"Calculate the mixture response from one of three different approaches: IA, GCA ,or Hazard Quotient — calc_concentration_response","text":"Calculate combined response multiple chemicals. calculates generalized concentration addition response, independent action response, hazard quotient","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_concentration_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate the mixture response from one of three different approaches: IA, GCA ,or Hazard Quotient — calc_concentration_response","text":"","code":"calc_concentration_response(   C_invitro,   hill_params,   tp_b_mult = 1.5,   fixed = FALSE )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_concentration_response.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate the mixture response from one of three different approaches: IA, GCA ,or Hazard Quotient — calc_concentration_response","text":"C_invitro vitro concentrations hill_params output fit_hill() tp_b_mult upper bound multiplier tp rtruncnorm fixed TRUE, sd = 0","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_concentration_response.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate the mixture response from one of three different approaches: IA, GCA ,or Hazard Quotient — calc_concentration_response","text":"data frame","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_independent_action.html","id":null,"dir":"Reference","previous_headings":"","what":"Independent action prediction from the tcpl Hill function — calc_independent_action","title":"Independent action prediction from the tcpl Hill function — calc_independent_action","text":"Independent action prediction tcpl Hill function","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_independent_action.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Independent action prediction from the tcpl Hill function — calc_independent_action","text":"","code":"calc_independent_action(Ci, tp, AC50, Emax, slope = 1)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_independent_action.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Independent action prediction from the tcpl Hill function — calc_independent_action","text":"Ci individual chemical concentrations regular space tp top asymptotes AC50 AC50 Emax maximum mixture response slope hill coefficient","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_independent_action.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Independent action prediction from the tcpl Hill function — calc_independent_action","text":"response value","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate internal chemical dose — calc_internal_dose","title":"Calculate internal chemical dose — calc_internal_dose","text":"Estimate internal dose inhalation chemical given inhalation rate, time, body weight","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate internal chemical dose — calc_internal_dose","text":"","code":"calc_internal_dose(C_ext, IR, time = 1, BW = 1, scaling = 1)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate internal chemical dose — calc_internal_dose","text":"C_ext ambient chemical concentration \\(\\frac{mg}{m^3}\\) IR inhalation rate \\(\\frac{m^3}{day}\\) time total time \\(days\\) BW body weight \\(kg\\) scaling scaling factor encompassing required unit adjustments","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate internal chemical dose — calc_internal_dose","text":"internal chemical dose \\(\\frac{mg}{kg}\\)","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate internal chemical dose — calc_internal_dose","text":"TODO Additional details... $$D_{int} = \\frac{C_{ext} \\,\\times\\, IR \\,\\times\\, time}{BW}$$","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_internal_dose.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate internal chemical dose — calc_internal_dose","text":"","code":"n_chem <- 3 n_sample <- 5  # Single population C_ext <- matrix(runif(n_sample * n_chem), ncol = n_chem) IR <- runif(n_sample) calc_internal_dose(C_ext, IR) #>             [,1]       [,2]        [,3] #> [1,] 0.015800366 0.09125914 0.171132967 #> [2,] 0.336685183 0.20087215 0.070595211 #> [3,] 0.038245313 0.01844701 0.002179853 #> [4,] 0.061107128 0.28487219 0.124534354 #> [5,] 0.007218509 0.75363169 0.392490442  # Multiple populations C_ext <- list(   \"a\" = matrix(runif(n_sample * n_chem), ncol = n_chem),   \"b\" = matrix(runif(n_sample * n_chem), ncol = n_chem) ) IR <- list(runif(n_sample), runif(n_sample)) calc_internal_dose(C_ext, IR) #> $a #>           [,1]       [,2]       [,3] #> [1,] 0.1336944 0.34197969 0.01440300 #> [2,] 0.2138538 0.01621801 0.07110673 #> [3,] 0.1284426 0.09261534 0.05254789 #> [4,] 0.1041654 0.36988156 0.33832828 #> [5,] 0.4840307 0.33989673 0.23646425 #>  #> $b #>            [,1]       [,2]      [,3] #> [1,] 0.33679479 0.53005683 0.5966388 #> [2,] 0.14423849 0.10185347 0.1571509 #> [3,] 0.67671195 0.45777230 0.7067715 #> [4,] 0.01176099 0.04306118 0.0632936 #> [5,] 0.07682741 0.03401241 0.1378512 #>"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_invitro_concentration.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate in vitro concentration — calc_invitro_concentration","title":"Calculate in vitro concentration — calc_invitro_concentration","text":"TODO short description...","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_invitro_concentration.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate in vitro concentration — calc_invitro_concentration","text":"","code":"calc_invitro_concentration(D_int, C_ss = NULL)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_invitro_concentration.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate in vitro concentration — calc_invitro_concentration","text":"D_int internal chemical dose \\(\\frac{mg}{kg}\\) C_ss steady-state plasma concentration \\(\\frac{\\mu M}{mg / kg}\\)","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_invitro_concentration.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate in vitro concentration — calc_invitro_concentration","text":"vitro equivalent plasma concentration \\(\\mu M\\)","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calc_invitro_concentration.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Calculate in vitro concentration — calc_invitro_concentration","text":"TODO Additional details... $$C_{plasma} = C_{ss} \\,\\times\\, D_{int}$$","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calculate_response.html","id":null,"dir":"Reference","previous_headings":"","what":"Calculate response — calculate_response","title":"Calculate response — calculate_response","text":"Calculate mixture response GeoTox population data","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calculate_response.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Calculate response — calculate_response","text":"","code":"calculate_response(x, hill_params, ...)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calculate_response.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Calculate response — calculate_response","text":"x GeoTox object hill_params output fit_hill ... additional arguments passed functions","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calculate_response.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Calculate response — calculate_response","text":"object additional fields added updated","code":""},{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/calculate_response.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Calculate response — calculate_response","text":"","code":"x <- simulate_population(   GeoTox(),   age = split(geo_tox_data$age, ~FIPS)[1:5],   obesity = geo_tox_data$obesity[1:5, ],   exposure = split(geo_tox_data$exposure, ~FIPS)[1:5],   simulated_css = geo_tox_data$simulated_css,   n = 10 ) hill_params <- fit_hill(split(geo_tox_data$dose_response, ~casn)) x <- calculate_response(x, hill_params)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/compute_sensitivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — compute_sensitivity","title":"Title — compute_sensitivity","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/compute_sensitivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — compute_sensitivity","text":"","code":"compute_sensitivity(   x,   vary = c(\"age\", \"obesity\", \"css_params\", \"fit_params\", \"C_ext\"),   tp_b_mult = NULL )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/compute_sensitivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — compute_sensitivity","text":"x . vary . tp_b_mult .","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/compute_sensitivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — compute_sensitivity","text":".","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/dot-check_names.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for names — .check_names","title":"Check for names — .check_names","text":"Check names","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/dot-check_names.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for names — .check_names","text":"","code":".check_names(x, names)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/dot-check_names.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for names — .check_names","text":"x object check names names look ","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/dot-check_names.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for names — .check_names","text":"boolean, TRUE error","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/fit_hill.html","id":null,"dir":"Reference","previous_headings":"","what":"Fit 2- or 3-parameter Hill model — fit_hill","title":"Fit 2- or 3-parameter Hill model — fit_hill","text":"Fit 2- 3-parameter Hill model","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/fit_hill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fit 2- or 3-parameter Hill model — fit_hill","text":"","code":"fit_hill(x, conc = \"logc\", resp = \"resp\", fixed_slope = TRUE)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/fit_hill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fit 2- or 3-parameter Hill model — fit_hill","text":"x data frame list data frames. conc column name base-10 log scaled concentration. resp column name response. fixed_slope TRUE, slope fixed 1.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/fit_hill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fit 2- or 3-parameter Hill model — fit_hill","text":"Fit parameters stats. \"tp\" top asymptote \"logAC50\" 50% response concentration. computation standard deviations two parameters fails, standard deviation set equal parameter estimate indicated respective imputed flag TRUE.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/fit_hill.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Fit 2- or 3-parameter Hill model — fit_hill","text":"","code":"# Single chemical data <- geo_tox_data$dose_response[   geo_tox_data$dose_response$casn == \"1582-09-8\", ] fit_hill(data) #>         tp   tp.sd  logAC50 logAC50.sd slope slope.sd  logc_min logc_max #> 1 5.664257 1.38922 1.832212  0.1320382     1        0 -1.522879        2 #>     resp_min resp_max      AIC tp.sd.imputed logAC50.sd.imputed #> 1 -0.2746569 4.720214 38.09679         FALSE              FALSE  # Multiple chemicals data <- split(geo_tox_data$dose_response, ~casn) # 2-param fit_hill(data) #>        name       tp     tp.sd  logAC50 logAC50.sd slope slope.sd  logc_min #> 1 1582-09-8 5.664257 1.3892202 1.832212  0.1320382     1        0 -1.522879 #> 2   51-28-5 4.351953 4.3519525 1.778738  0.2015090     1        0 -1.522879 #> 3  510-15-6 8.757236 8.2408031 1.978500  0.3466533     1        0 -1.522879 #> 4   72-43-5 3.737664 0.7102053 1.532911  0.1967713     1        0 -1.522879 #> 5   76-44-8 4.515815 0.3513598 1.381169  0.1004316     1        0 -1.522879 #> 6   77-47-4 1.471197 0.4960156 1.782049  0.2971874     1        0 -1.522879 #> 7   87-86-5 3.670549 0.3538687 1.087010  0.1278682     1        0 -1.698970 #> 8   95-95-4 3.331832 3.3318324 1.966358  0.2625026     1        0 -1.522879 #>   logc_max   resp_min resp_max      AIC tp.sd.imputed logAC50.sd.imputed #> 1  2.00000 -0.2746569 4.720214 38.09679         FALSE              FALSE #> 2  2.00000 -1.4737999 3.626627 39.76412          TRUE              FALSE #> 3  2.00000 -0.5048061 7.297697 42.70263         FALSE              FALSE #> 4  2.00000 -0.7303619 3.114720 34.95177         FALSE              FALSE #> 5  2.00000 -0.9074337 3.843778 36.13351         FALSE              FALSE #> 6  2.00000 -0.5950514 1.225998 24.64278         FALSE              FALSE #> 7  1.69897 -0.6636353 3.058791 13.17187         FALSE              FALSE #> 8  2.00000 -0.6495255 2.776527 34.11884          TRUE              FALSE # 3-param fit_hill(data, fixed_slope = FALSE) #>        name       tp     tp.sd   logAC50 logAC50.sd    slope   slope.sd #> 1 1582-09-8 5.664257 1.0896069 1.7390364 0.12851792 1.632874  0.3132721 #> 2   51-28-5 4.351953 3.2757664 1.7738204 0.39828065 2.976161  3.0652041 #> 3  510-15-6 8.757236 3.0112456 1.7319108 0.20853276 2.191570  0.9838474 #> 4   72-43-5 3.048893 0.2056023 1.3380156 0.08472913 3.810866  1.4801096 #> 5   76-44-8 3.811537 0.3001249 1.2100606 0.08623949 1.493623  0.3156792 #> 6   77-47-4 1.471197 1.1421995 1.7801156 0.57221708 1.424830  0.9856094 #> 7   87-86-5 3.240787 0.4285640 0.9554403 0.15184890 1.252028  0.2923098 #> 8   95-95-4 3.331832 8.7820695 1.9324691 0.57810113 8.000000 12.5456495 #>    logc_min logc_max   resp_min resp_max      AIC tp.sd.imputed #> 1 -1.522879  2.00000 -0.2746569 4.720214 17.61138         FALSE #> 2 -1.522879  2.00000 -1.4737999 3.626627 23.94616         FALSE #> 3 -1.522879  2.00000 -0.5048061 7.297697 16.63602         FALSE #> 4 -1.522879  2.00000 -0.7303619 3.114720 21.89020         FALSE #> 5 -1.522879  2.00000 -0.9074337 3.843778 33.73297         FALSE #> 6 -1.522879  2.00000 -0.5950514 1.225998 24.45038         FALSE #> 7 -1.698970  1.69897 -0.6636353 3.058791 14.05871         FALSE #> 8 -1.522879  2.00000 -0.6495255 2.776527 12.91483         FALSE #>   logAC50.sd.imputed #> 1              FALSE #> 2              FALSE #> 3              FALSE #> 4              FALSE #> 5              FALSE #> 6              FALSE #> 7              FALSE #> 8              FALSE"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/geo_tox_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Geo Tox data — geo_tox_data","title":"Geo Tox data — geo_tox_data","text":"Sample data use vignettes function examples. See \"package_data\" vignette details data gathered.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/geo_tox_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geo Tox data — geo_tox_data","text":"","code":"geo_tox_data"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/geo_tox_data.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Geo Tox data — geo_tox_data","text":"list items: exposure 2019 AirToxScreen exposure concentrations subset chemicals North Carolina counties dose_response subset data InvitroDB \"LTEA_HepaRG_CYP1A1_up\" assay age County population estimates 7/1/2019 North Carolina obesity CDC PLACES obesity data North Carolina counties 2020 simulated_css Simulated steady-state plasma concentrations various age groups obesity status combinations boundaries County state boundaries North Carolina 2019","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — get_fixed_age","title":"Title — get_fixed_age","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — get_fixed_age","text":"","code":"get_fixed_age(age, simulated_css)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — get_fixed_age","text":"age x simulated_css x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — get_fixed_age","text":"x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_obesity.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — get_fixed_obesity","title":"Title — get_fixed_obesity","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_obesity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — get_fixed_obesity","text":"","code":"get_fixed_obesity(obesity, simulated_css)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_obesity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — get_fixed_obesity","text":"obesity x simulated_css x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_obesity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — get_fixed_obesity","text":"x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_other.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — get_fixed_other","title":"Title — get_fixed_other","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_other.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — get_fixed_other","text":"","code":"get_fixed_other(C_ss)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_other.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — get_fixed_other","text":"C_ss .","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_other.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — get_fixed_other","text":".","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_params.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — get_fixed_params","title":"Title — get_fixed_params","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_params.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — get_fixed_params","text":"","code":"get_fixed_params(age, simulated_css)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_params.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — get_fixed_params","text":"age x simulated_css x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/get_fixed_params.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — get_fixed_params","text":"x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_ECx.html","id":null,"dir":"Reference","previous_headings":"","what":"A Generalized concentration addition style solution — obj_ECx","title":"A Generalized concentration addition style solution — obj_ECx","text":"Find effective concentration mixture via objective function given concentrations inverse, based regular space AC50 concentrations.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_ECx.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Generalized concentration addition style solution — obj_ECx","text":"","code":"obj_ECx(ECmix, E, Ci, tp, AC50)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_ECx.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"A Generalized concentration addition style solution — obj_ECx","text":"ECmix effective concentration mixture E individual chemical responses Ci individual chemical concentrations regular space tp top asymptotes AC50 AC50s","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_ECx.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"A Generalized concentration addition style solution — obj_ECx","text":"objective value","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_GCA.html","id":null,"dir":"Reference","previous_headings":"","what":"Generalized concentration addition objective function — obj_GCA","title":"Generalized concentration addition objective function — obj_GCA","text":"Use find optimal efficacy value, E, based regular space AC50 concentrations.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_GCA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Generalized concentration addition objective function — obj_GCA","text":"","code":"obj_GCA(effic, Ci, tp, AC50)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_GCA.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Generalized concentration addition objective function — obj_GCA","text":"effic natural log individual chemical responses Ci individual chemical concentrations regular space tp top asymptote AC50 AC50","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_GCA.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Generalized concentration addition objective function — obj_GCA","text":"objective value","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_hill.html","id":null,"dir":"Reference","previous_headings":"","what":"Objective function for 2- or 3-parameter Hill model — obj_hill","title":"Objective function for 2- or 3-parameter Hill model — obj_hill","text":"Objective function 2- 3-parameter Hill model","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_hill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Objective function for 2- or 3-parameter Hill model — obj_hill","text":"","code":"obj_hill(par, log10_conc, resp)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_hill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Objective function for 2- or 3-parameter Hill model — obj_hill","text":"par parameters log10_conc base-10 log scale concentration resp response","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/obj_hill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Objective function for 2- or 3-parameter Hill model — obj_hill","text":"value","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — plot_exposure","title":"Title — plot_exposure","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — plot_exposure","text":"","code":"plot_exposure(exposure, region_boundary, group_boundary = NULL, ncol = 2)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — plot_exposure","text":"exposure . region_boundary . group_boundary . ncol .","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_exposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — plot_exposure","text":".","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_hill.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — plot_hill","title":"Title — plot_hill","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_hill.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — plot_hill","text":"","code":"plot_hill(fit_params)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_hill.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — plot_hill","text":"fit_params x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_hill.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — plot_hill","text":"x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_resp.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot GeoTox reponse data — plot_resp","title":"Plot GeoTox reponse data — plot_resp","text":"Plot GeoTox reponse data","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_resp.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot GeoTox reponse data — plot_resp","text":"","code":"plot_resp(   resp,   region_boundary,   group_boundary = NULL,   metric = c(\"GCA.Eff\", \"IA.Eff\", \"GCA.HQ.10\", \"IA.HQ.10\"),   quantiles = c(0.5),   quantile_labels = c(\"Median\") )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_resp.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot GeoTox reponse data — plot_resp","text":"resp . region_boundary . group_boundary . metric response metric, one \"GCA.Eff\", \"IA.Eff\", \"GCA.HQ.10\" \"IA.HQ.10\" quantiles quantiles plot quantile_labels labels quantiles","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_resp.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot GeoTox reponse data — plot_resp","text":"ggplot2 figure object","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_sensitivity.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — plot_sensitivity","title":"Title — plot_sensitivity","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_sensitivity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — plot_sensitivity","text":"","code":"plot_sensitivity(x, param = \"GCA.Eff\", y = \"\", xlab = param, ylab = \"\")"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_sensitivity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — plot_sensitivity","text":"x . param . y . xlab . ylab .","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/plot_sensitivity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — plot_sensitivity","text":".","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sample_Css.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — sample_Css","title":"Title — sample_Css","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sample_Css.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — sample_Css","text":"","code":"sample_Css(simulated_css, age, obesity)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sample_Css.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — sample_Css","text":"simulated_css x age x obesity x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sample_Css.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — sample_Css","text":"x","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sensitivity_analysis.html","id":null,"dir":"Reference","previous_headings":"","what":"Perform sensitivity analysis — sensitivity_analysis","title":"Perform sensitivity analysis — sensitivity_analysis","text":"Perform sensitivity analysis","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sensitivity_analysis.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Perform sensitivity analysis — sensitivity_analysis","text":"","code":"sensitivity_analysis(x)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sensitivity_analysis.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Perform sensitivity analysis — sensitivity_analysis","text":"x GeoTox object","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/sensitivity_analysis.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Perform sensitivity analysis — sensitivity_analysis","text":"object additional fields added updated","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/set_boundaries.html","id":null,"dir":"Reference","previous_headings":"","what":"Title — set_boundaries","title":"Title — set_boundaries","text":"Title","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/set_boundaries.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Title — set_boundaries","text":"","code":"set_boundaries(x, region = NULL, group = NULL)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/set_boundaries.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Title — set_boundaries","text":"x . region . group .","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/set_boundaries.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Title — set_boundaries","text":".","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_age.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate ages — simulate_age","title":"Simulate ages — simulate_age","text":"Simulate ages","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_age.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate ages — simulate_age","text":"","code":"simulate_age(x, n = 1000)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_age.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate ages — simulate_age","text":"x data frame list data frames containing population data age groups. data frame must contain columns \"AGEGRP\" \"TOT_POP\". n simulated sample size.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_age.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate ages — simulate_age","text":"List arrays containing simulated ages.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_age.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate ages — simulate_age","text":"","code":"# Single data frame data <- geo_tox_data$age[geo_tox_data$age$FIPS == 37001, ] ages <- simulate_age(data, 10)  # List of data frames data <- split(geo_tox_data$age, ~FIPS) ages <- simulate_age(data, 10)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_exposure.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate external exposure — simulate_exposure","title":"Simulate external exposure — simulate_exposure","text":"Simulate external exposure","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_exposure.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate external exposure — simulate_exposure","text":"","code":"simulate_exposure(   x,   expos_mean = \"mean\",   expos_sd = \"sd\",   expos_label = \"casn\",   n = 1000 )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_exposure.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate external exposure — simulate_exposure","text":"x data frame list data frames. expos_mean column name mean values. expos_sd column name standard deviations. expos_label column name labeling term, required x one row. n simulated sample size.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_exposure.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate external exposure — simulate_exposure","text":"list matrices containing inhalation rates. Matrix columns named using values expos_label column one data frame row.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_exposure.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate external exposure — simulate_exposure","text":"","code":"data <- split(geo_tox_data$exposure, ~FIPS)  # Single data frame simulate_exposure(data[[1]], n = 5) #> [[1]] #>         1582-09-8      51-28-5 510-15-6 72-43-5 76-44-8      77-47-4 #> [1,] 1.090811e-04 5.848432e-08        0       0       0 1.056507e-10 #> [2,] 8.750059e-05 6.770802e-08        0       0       0 4.588745e-10 #> [3,] 1.162021e-04 9.743651e-09        0       0       0 5.598812e-10 #> [4,] 1.243120e-04 7.274260e-08        0       0       0 2.099088e-10 #> [5,] 8.203307e-05 3.381474e-08        0       0       0 5.183190e-10 #>           87-86-5 95-95-4 #> [1,] 1.323982e-08       0 #> [2,] 1.284609e-08       0 #> [3,] 1.577227e-08       0 #> [4,] 6.605943e-09       0 #> [5,] 1.091679e-08       0 #>   # List of data frames simulate_exposure(data[1:3], n = 5) #> $`37001` #>         1582-09-8      51-28-5 510-15-6 72-43-5 76-44-8      77-47-4 #> [1,] 1.080396e-04 3.457350e-08        0       0       0 2.508143e-10 #> [2,] 9.949791e-05 4.693337e-08        0       0       0 2.757947e-10 #> [3,] 7.429448e-05 6.559605e-08        0       0       0 3.560158e-10 #> [4,] 9.147674e-05 4.087990e-08        0       0       0 2.922935e-10 #> [5,] 9.151345e-05 1.258854e-08        0       0       0 4.673050e-10 #>           87-86-5 95-95-4 #> [1,] 1.315848e-08       0 #> [2,] 7.914796e-09       0 #> [3,] 9.840136e-09       0 #> [4,] 1.291400e-08       0 #> [5,] 1.042789e-08       0 #>  #> $`37003` #>         1582-09-8      51-28-5 510-15-6 72-43-5 76-44-8      77-47-4 #> [1,] 1.998010e-04 1.272200e-08        0       0       0 1.000412e-09 #> [2,] 1.686504e-04 1.279909e-08        0       0       0 1.038144e-09 #> [3,] 1.763445e-04 1.170159e-08        0       0       0 1.055774e-09 #> [4,] 9.485285e-05 1.056577e-08        0       0       0 8.827892e-10 #> [5,] 1.367047e-04 1.257312e-08        0       0       0 1.102671e-09 #>           87-86-5      95-95-4 #> [1,] 1.069074e-07 3.241957e-13 #> [2,] 1.573573e-07 9.762800e-13 #> [3,] 1.104208e-07 4.969955e-13 #> [4,] 7.295532e-08 1.661638e-13 #> [5,] 1.431837e-07 6.337565e-13 #>  #> $`37005` #>         1582-09-8      51-28-5 510-15-6 72-43-5 76-44-8      77-47-4 #> [1,] 6.959053e-05 2.559101e-09        0       0       0 1.975041e-10 #> [2,] 6.891846e-05 1.795468e-09        0       0       0 3.133554e-10 #> [3,] 8.032106e-05 2.366660e-09        0       0       0 2.550301e-10 #> [4,] 7.094195e-05 1.724309e-09        0       0       0 2.296631e-10 #> [5,] 5.500838e-05 2.808881e-09        0       0       0 2.439517e-10 #>           87-86-5      95-95-4 #> [1,] 4.477279e-09 4.673951e-11 #> [2,] 3.948739e-09 3.487048e-11 #> [3,] 3.939988e-09 6.348754e-11 #> [4,] 4.198121e-09 4.121742e-11 #> [5,] 4.033320e-09 5.122627e-11 #>"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate inhalation rates — simulate_inhalation_rate","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"Simulate inhalation rates","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"","code":"simulate_inhalation_rate(x, IR_params = NULL)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"x atomic vector list atomic vectors containing ages. IR_params (optional) data frame columns \"age\", \"mean\" \"sd\". See details information.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"List atomic vectors containing inhalation rates.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":"details","dir":"Reference","previous_headings":"","what":"Details","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"age column optional IR_params data frame ascending order represent lower value age groups corresponding mean sd values. provided, default values come Table 6.7 EPA's 2011 Exposure Factors Handbook using mean male female values.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_inhalation_rate.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate inhalation rates — simulate_inhalation_rate","text":"","code":"# Single atomic vector ages <- sample(1:100, 6, replace = TRUE) simulate_inhalation_rate(ages) #> [[1]] #> [1] 0.2361267 0.2203255 0.2057292 0.3097277 0.3367997 0.2611282 #>   # List of atomic vectors ages <- list(   sample(1:100, 5, replace = TRUE),   sample(1:100, 3, replace = TRUE) ) simulate_inhalation_rate(ages) #> [[1]] #> [1] 0.1712455 0.1611354 0.4063862 0.3253919 0.2743187 #>  #> [[2]] #> [1] 0.2600371 0.1359453 0.1311600 #>"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_obesity.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate obesity — simulate_obesity","title":"Simulate obesity — simulate_obesity","text":"Simulate obesity","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_obesity.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate obesity — simulate_obesity","text":"","code":"simulate_obesity(   x,   obes_prev = \"OBESITY_CrudePrev\",   obes_sd = \"OBESITY_SD\",   obes_label = \"FIPS\",   n = 1000 )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_obesity.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate obesity — simulate_obesity","text":"x data frame containing obesity data percentage 0 100. obes_prev column name prevalence. obes_sd column name standard deviation. obes_label column name labeling term, required x one row. n simulated sample size.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_obesity.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate obesity — simulate_obesity","text":"List arrays containing simulated obesity status.","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_obesity.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate obesity — simulate_obesity","text":"","code":"simulate_obesity(geo_tox_data$obesity[1, ], n = 4) #> $`37001` #> [1] \"Normal\" \"Normal\" \"Obese\"  \"Normal\" #>   simulate_obesity(geo_tox_data$obesity[1:5, ], n = 10) #> $`37001` #>  [1] \"Obese\"  \"Obese\"  \"Normal\" \"Normal\" \"Normal\" \"Normal\" \"Obese\"  \"Normal\" #>  [9] \"Normal\" \"Normal\" #>  #> $`37003` #>  [1] \"Obese\"  \"Obese\"  \"Normal\" \"Obese\"  \"Obese\"  \"Normal\" \"Obese\"  \"Normal\" #>  [9] \"Normal\" \"Normal\" #>  #> $`37005` #>  [1] \"Normal\" \"Normal\" \"Obese\"  \"Obese\"  \"Normal\" \"Normal\" \"Normal\" \"Normal\" #>  [9] \"Obese\"  \"Normal\" #>  #> $`37007` #>  [1] \"Normal\" \"Normal\" \"Obese\"  \"Normal\" \"Normal\" \"Normal\" \"Normal\" \"Normal\" #>  [9] \"Normal\" \"Obese\"  #>  #> $`37009` #>  [1] \"Normal\" \"Normal\" \"Obese\"  \"Normal\" \"Normal\" \"Normal\" \"Normal\" \"Normal\" #>  [9] \"Normal\" \"Normal\" #>   df <- data.frame(label = letters[1:3], prev = c(20, 50, 80), sd = c(5, 5, 5)) simulate_obesity(df, obes_label = \"label\", obes_prev = \"prev\",                  obes_sd = \"sd\", n = 10) #> $a #>  [1] \"Obese\"  \"Normal\" \"Normal\" \"Obese\"  \"Obese\"  \"Obese\"  \"Obese\"  \"Normal\" #>  [9] \"Normal\" \"Normal\" #>  #> $b #>  [1] \"Obese\"  \"Normal\" \"Obese\"  \"Obese\"  \"Normal\" \"Obese\"  \"Obese\"  \"Obese\"  #>  [9] \"Normal\" \"Obese\"  #>  #> $c #>  [1] \"Obese\"  \"Obese\"  \"Normal\" \"Normal\" \"Obese\"  \"Obese\"  \"Obese\"  \"Obese\"  #>  [9] \"Normal\" \"Obese\"  #>"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_population.html","id":null,"dir":"Reference","previous_headings":"","what":"Simulate population data — simulate_population","title":"Simulate population data — simulate_population","text":"Simulate population data given input fields","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_population.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Simulate population data — simulate_population","text":"","code":"simulate_population(   x,   age = NULL,   obesity = NULL,   exposure = NULL,   simulated_css = NULL,   n = 1000,   ... )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_population.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Simulate population data — simulate_population","text":"x GeoTox object age input x function simulate_age. simulating ages, inhalation rate subsequently calculated using simulate_inhalation_rate. obesity input x function simulate_obesity exposure input x function simulate_exposure simulated_css input simulated_css function sample_Css n simulated sample size ... additional arguments passed functions","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_population.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Simulate population data — simulate_population","text":"object simulated fields added","code":""},{"path":[]},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/simulate_population.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Simulate population data — simulate_population","text":"","code":"x <- simulate_population(   GeoTox(),   age = split(geo_tox_data$age, ~FIPS)[1:5],   obesity = geo_tox_data$obesity[1:5, ],   exposure = split(geo_tox_data$exposure, ~FIPS)[1:5],   simulated_css = geo_tox_data$simulated_css,   n = 10 )"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillConc.html","id":null,"dir":"Reference","previous_headings":"","what":"TCPL Hill model — tcplHillConc","title":"TCPL Hill model — tcplHillConc","text":"Calculate concentration regular space given value","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillConc.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TCPL Hill model — tcplHillConc","text":"","code":"tcplHillConc(resp, tp, ga, gw)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillConc.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"TCPL Hill model — tcplHillConc","text":"resp response value tp top asymptote ga AC50 gw hill coefficient","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillConc.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"TCPL Hill model — tcplHillConc","text":"concentration regular space","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillVal.html","id":null,"dir":"Reference","previous_headings":"","what":"TCPL Hill model — tcplHillVal","title":"TCPL Hill model — tcplHillVal","text":"Calculate efficacy given concentration regular space","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillVal.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"TCPL Hill model — tcplHillVal","text":"","code":"tcplHillVal(conc, tp, ga, gw, bt = 0)"},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillVal.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"TCPL Hill model — tcplHillVal","text":"conc concentration regular space tp top asymptote ga AC50 gw hill coefficient bt bottom asymptote","code":""},{"path":"https://spatiotemporal-exposures-and-toxicology.github.io/GeoTox/reference/tcplHillVal.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"TCPL Hill model — tcplHillVal","text":"response value","code":""}]
